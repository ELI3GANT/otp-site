<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="OTP Master Suite" tests="9" failures="0" time="5.95">
    <testsuite name="System Tests" tests="9" failures="0" time="5.95">
        
        <testcase name="Full System Integrity" classname="tests/full_system_test.js" time="2.29">
            
            <system-out><![CDATA[ðŸ STARTING END-TO-END SYSTEM TEST...
1ï¸âƒ£ Creating test post...
âœ… Create Successful
2ï¸âƒ£ Testing view tracking (RPC)...
âœ… View Increment Successful
3ï¸âƒ£ Verifying data integrity...
âœ… Data Integrity Verified
4ï¸âƒ£ Cleaning up database...
âœ… Cleanup Successful

ðŸŽŠ ALL SYSTEMS PASS. VERSION 3.5 PRO IS STABLE.
]]></system-out>
        </testcase>
        <testcase name="Admin Health & Schema" classname="tests/admin_health.js" time="1.04">
            
            <system-out><![CDATA[ðŸ‘® STARTING ADMIN SYSTEM VERIFICATION...
âœ… Global State Entity Found
âœ… CMS Table 'site_content' Verified
âœ… Broadcasts Schema Verified (Tags & Views columns exist)
âœ… Admin File Integrity Verified

ðŸ” ADMIN SYSTEM SAFE & READY.
]]></system-out>
        </testcase>
        <testcase name="User Flow Validation" classname="tests/user_flow_validation.js" time="1.13">
            
            <system-out><![CDATA[ðŸ STARTING FULL USER-FLOW VALIDATION...

ðŸ“© Testing Contact Form Submission...
âœ… SUCCESS: Contact data reached Supabase.

ðŸ“Š Validating Dashboard Metrics...
âœ… SUCCESS: Dashboard Aggregation Logic verified. Total Broadcast Views: 0

ðŸ› ï¸ Validating Admin CRUD (Broadcasts)...
âœ… SUCCESS: Admin CRUD lifecycle is 100% operational.

ðŸ“¡ Checking Real-time Sync Readiness...
âœ… SUCCESS: Supabase Real-time connection established.

ðŸŽŠ FULL SITE VALIDATION COMPLETE. ALL SYSTEMS OPTIMAL.
]]></system-out>
        </testcase>
        <testcase name="Authentication Logic" classname="tests/auth_flow_test.js" time="0.06">
            
            <system-out><![CDATA[ðŸ§ª STARTING AUTH FLOW UNIT TESTS...
   Test 1: Logout Behavior...
   âœ… PASSED
   Test 2: Valid Token Check...
   âœ… PASSED
   Test 3: Expired Token Check...
   âœ… PASSED
   Test 4: Bypass Token Check...
   âœ… PASSED

ðŸŽ‰ ALL AUTH TESTS PASSED.
]]></system-out>
        </testcase>
        <testcase name="Post Management Logic" classname="tests/manage_post_test.js" time="0.49">
            
            <system-out><![CDATA[TEST: Create Post
[MOCK] Insert into posts: [
  {
    title: 'Test Title',
    content: 'Test Content',
    slug: 'test-title',
    tags: [ 'tag1', 'tag2' ],
    image_url: '',
    published: true,
    updated_at: '2026-01-22T01:48:37.607Z'
  }
]
[MOCK] Reset Form
[MOCK] Fetch Posts
âœ… Create Post Passed
TEST: Update Post
[MOCK] Update posts where id=123: {
  title: 'Updated Title',
  content: 'Test Content',
  slug: 'updated-title',
  tags: [ 'tag1', 'tag2' ],
  image_url: '',
  published: true,
  updated_at: '2026-01-22T01:48:37.609Z'
}
[MOCK] Reset Form
[MOCK] Fetch Posts
âœ… Update Post Passed
ALL TESTS PASSED
]]></system-out>
        </testcase>
        <testcase name="Email Link Logic" classname="tests/email_link_test.js" time="0.03">
            
            <system-out><![CDATA[TEST: Email Link Formatting
Generated Link: mailto:test@example.com?subject=Inquiry Reply: Only True Perspective // John Doe&body=Hello there!
âœ… Email Link Formatting Passed
]]></system-out>
        </testcase>
        <testcase name="Theme Logic" classname="tests/theme.test.js" time="0.77">
            
            <system-out><![CDATA[Running Theme Toggle Tests...
PASS: Initial theme is dark (no attribute)
PASS: Toggled to light mode
PASS: LocalStorage updated to 'light'
PASS: Toggled back to dark mode
PASS: LocalStorage updated to 'dark'
PASS: Local user preference overrides remote state
Theme tests complete.
]]></system-out>
        </testcase>
        <testcase name="Menu Logic" classname="tests/menu_logic_test.js" time="0.05">
            
            <system-out><![CDATA[Running Menu Logic Tests...
PASS: Drawer has 'open' class after click.
PASS: aria-expanded is 'true' (string).
PASS: Drawer removed 'open' class after second click.
PASS: aria-expanded is 'false' (string).
]]></system-out>
        </testcase>
        <testcase name="Security & Performance" classname="tests/security_perf_audit.js" time="0.08">
            
            <system-out><![CDATA[ðŸ›¡ï¸ STARTING SECURITY & PERFORMANCE AUDIT...

â±ï¸ Performance:
- Initial Response Latency: 41ms
âœ… PASS: Low latency (<200ms)

ðŸ›¡ï¸ Security Headers:
âœ… content-security-policy: PRESENT
âœ… x-frame-options: PRESENT
âœ… x-content-type-options: PRESENT
âœ… strict-transport-security: PRESENT
âœ… referrer-policy: PRESENT

ðŸ“¦ Optimization:
âœ… Compression: ENABLED (br)
]]></system-out>
        </testcase>
    </testsuite>
</testsuites>